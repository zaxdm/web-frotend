<div class="editor-container">

  <!-- HEADER -->
  <h1>
    <span></span>
    Editor Home
    <span class="header-badge">PÃ¡gina Principal</span>
  </h1>

  <form (ngSubmit)="saveChanges()">

    <!-- ========================= -->
    <!-- TABS -->
    <!-- ========================= -->
    <mat-tab-group animationDuration="300ms" dynamicHeight>

      <!-- ========================= -->
      <!-- TAB HERO -->
      <!-- ========================= -->
      <mat-tab label="ðŸŽ¯ Hero">
        <div class="tab-content">

          <!-- TITULO -->
          <div class="form-group">
            <label>LÃ­neas del tÃ­tulo</label>

            <div *ngFor="let line of homeData.hero.titleLines; let i=index" class="flex-row">
              <input
                class="form-control"
                [(ngModel)]="homeData.hero.titleLines[i]"
                [name]="'heroLine'+i"
                placeholder="LÃ­nea hero"
              >
              <button type="button" class="btn-remove" (click)="removeHeroLine(i)">âœ•</button>
            </div>

            <button type="button" class="btn-add" (click)="addHeroLine()">âž• Agregar lÃ­nea</button>
          </div>

          <!-- BOTON -->
          <div class="form-grid">
            <div class="form-group">
              <label>Texto botÃ³n</label>
              <input class="form-control" [(ngModel)]="homeData.hero.buttonText" name="heroButtonText">
            </div>

            <div class="form-group">
              <label>Link botÃ³n</label>
              <input class="form-control" [(ngModel)]="homeData.hero.buttonLink" name="heroButtonLink">
            </div>
          </div>

        </div>
      </mat-tab>

      <!-- ========================= -->
      <!-- TAB ABOUT -->
      <!-- ========================= -->
      <mat-tab label="â„¹ï¸ About">
        <div class="tab-content">

          <div class="form-group">
            <label>TÃ­tulo</label>
            <input class="form-control" [(ngModel)]="homeData.about.title" name="aboutTitle">
          </div>

          <div class="form-group">
            <label>PÃ¡rrafos</label>

            <div *ngFor="let p of homeData.about.paragraphs; let i=index">
              <textarea
                class="form-control"
                [(ngModel)]="homeData.about.paragraphs[i]"
                [name]="'aboutPara'+i"
                rows="3">
              </textarea>

              <button type="button" class="btn-remove" (click)="removeAboutParagraph(i)">âœ•</button>
            </div>

            <button type="button" class="btn-add" (click)="addAboutParagraph()">âž• Agregar pÃ¡rrafo</button>
          </div>

          <div class="form-grid">
            <div class="form-group">
              <label>Texto link</label>
              <input class="form-control" [(ngModel)]="homeData.about.linkText" name="aboutLinkText">
            </div>

            <div class="form-group">
              <label>URL link</label>
              <input class="form-control" [(ngModel)]="homeData.about.linkUrl" name="aboutLinkUrl">
            </div>
          </div>

        </div>
      </mat-tab>

      <!-- ========================= -->
      <!-- TAB CARDS -->
      <!-- ========================= -->
      <mat-tab label="ðŸƒ Cards">
        <div class="tab-content">

          <div *ngFor="let card of homeData.cards; let i=index" class="card-editor">

            <h3>Card {{ i + 1 }}</h3>

            <div class="form-grid">
              <div class="form-group">
                <label>Imagen</label>
                <input class="form-control" [(ngModel)]="card.image" [name]="'img'+i">
              </div>

              <div class="form-group">
                <label>TÃ­tulo</label>
                <input class="form-control" [(ngModel)]="card.title" [name]="'title'+i">
              </div>
            </div>

            <div class="form-grid">
              <div class="form-group">
                <label>Texto botÃ³n</label>
                <input class="form-control" [(ngModel)]="card.buttonText" [name]="'btn'+i">
              </div>

              <div class="form-group">
                <label>Tipo</label>
                <select class="form-control" [(ngModel)]="card.type" [name]="'type'+i">
                  <option value="history">Historia</option>
                  <option value="product">Producto</option>
                </select>
              </div>
            </div>

            <button type="button" class="btn-remove" (click)="removeCard(i)">Eliminar card</button>
            <hr>
          </div>

          <button type="button" class="btn-add" (click)="addCard()">âž• Agregar card</button>

        </div>
      </mat-tab>

    </mat-tab-group>

    <!-- BOTONES -->
    <div class="action-bar">
      <button type="button" class="btn-secondary" (click)="resetForm()">Cancelar</button>
      <button type="submit" class="btn-primary">ðŸ’¾ Guardar cambios</button>
    </div>

  </form>

  <!-- NOTIFICACION -->
  @if (showSuccessMessage) {
    <div class="notification">Home actualizado correctamente</div>
  }

</div>